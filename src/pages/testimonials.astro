---
// Import necessary components
import MainLayout from "@/layouts/MainLayout.astro";
import MainSection from "@components/ui/blocks/MainSection.astro";
import LeftSection from "@components/ui/blocks/LeftSection.astro";
import RightSection from "@components/ui/blocks/RightSection.astro";
import TestimonialsSectionAlt from "@/components/sections/testimonials/TestimonialsSectionAlt.astro";
import { capitalize, formatDate } from "@utils/utils";
// Import necessary images
import quotes from "@images/quotes.svg";
import quotes_rev from "@images/quotes-flipped.svg";
import { SITE } from "@data/constants";
import { Icon } from 'astro-icon/components'

import { getCollection, render } from "astro:content";

const testimonials = await getCollection('testimonials', ({data}) => {
    return data.type !== 'draft'
});

const middle = Math.floor(testimonials.length/2)
const testimonials1 = testimonials.slice(0, middle)
const testimonials2 = testimonials.slice(middle, testimonials.length)

const pageTitle: string = `About Us | ${SITE.title}`;
const metaDescription =
  "The programme at Learning Hearts Therapy is the by-product of her genuine passion and in-depth experience in the areas of foundational reading and numeracy development.";
const ogTitle = "Expert Therapy Services | Learning Hearts";
---

<MainLayout
  title={pageTitle}
  customDescription={metaDescription}
  customOgTitle={ogTitle}
  structuredData={{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "@id": "https://learning-hearts.com/services",
    url: "https://learning-hearts.com/services",
    name: "Expert Therapy Services | Learning Hearts",
    description:
      "The programme at Learning Hearts Therapy is the by-product of her genuine passion and in-depth experience in the areas of foundational reading and numeracy development.",
    isPartOf: {
      "@type": "WebSite",
      url: "https://learning-hearts.com",
      name: "Learning-hearts",
      description:
        "Learning Hearts offers top-tier hardware tools and expert construction services to meet all your project needs.",
    },
    inLanguage: "en-US",
  }}
>
  {/* MainSection is the introductory section of the page, it also contains a CTA button */}

<RightSection
  title="Testimonials and words of approbation"
  subTitle="The programme at Learning Hearts Therapy has been running for many years. Hear from some of our students and their parents on their experiences."
  imgOne={quotes}
  imgTwo={quotes_rev}
  single={false}
  imgOneAlt="srtrast"
  imgTwoAlt="srtrast"
  />

<TestimonialsSectionAlt title="test" testimonials={testimonials} />

</MainLayout>
